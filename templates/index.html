{% extends "layout.html" %}

{% block body %}
    <div class="side-bar">
        <div class="file-upload-container">
            <form method="POST" enctype="multipart/form-data">
                <div id="documents-list" class="documents-container"></div>
                <div class="upload-section">
                    <div id="drop-zone" class="drop-zone" ondrop="dropHandler(event);" ondragover="dragOverHandler(event);">
                        <div class="drop-zone-content">
                            <svg class="file-icon" viewBox="0 0 24 24" width="48" height="48">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="12" y1="18" x2="12" y2="12"></line>
                                <line x1="9" y1="15" x2="15" y2="15"></line>
                            </svg>
                            <span>Drop PDF file here</span>
                        </div>
                        <div id="loading-animation" class="loading-animation hidden">
                            <div class="spinner"></div>
                            <span>Processing document...</span>
                        </div>
                    </div>
                    <div id="no-documents" class="no-documents">No documents uploaded</div>
                    <input hidden type="file" name="file" id="file" accept=".pdf" />
                    <label for="file" class="file-upload-btn">Upload PDF</label>
                </div>
            </form>
        </div>
    </div>

    <div class="chat-container">

        <!-- Chat Messages Container -->
        <div class="messages-container" id="messages">
            <!-- Alert messages will be dynamically inserted here -->
            <div class="alert-message-container" style="position: relative;">
            </div>
            <!-- Messages will be dynamically inserted here -->
        </div>

        <!-- Input Form -->
        <div class="input-container">
            <form id="message-form">
                <input type="text" id="message-input" placeholder="Type your message..." autocomplete="off">
                <button type="submit">Send</button>
            </form>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script src="../static/script.js"></script>

{% endblock %}
